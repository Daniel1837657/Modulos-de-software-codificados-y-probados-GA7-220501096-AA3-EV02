<!DOCTYPE html>
<html>
<head>
<title>Gestión de Productos</title>
<link rel="stylesheet" href="style.css">
<meta charset="UTF-8">
</head>
<body>
<h1>Registrar Producto</h1>
<form id="productoForm">
Nombre: <input type="text" id="nombre" required><br>
Descripción: <input type="text" id="descripcion"><br>
Precio: <input type="number" step="0.01" id="precio" required><br>
<button type="submit">Registrar</button>
</form>


<h1>Lista de Productos</h1>
<ul id="listaProductos"></ul>


<script>
const form = document.getElementById('productoForm');
const lista = document.getElementById('listaProductos');


form.addEventListener('submit', function(e){
e.preventDefault();
const producto = {
name: document.getElementById('nombre').value,
description: document.getElementById('descripcion').value,
price: parseFloat(document.getElementById('precio').value)
};


fetch('http://localhost:8080/api/products', {
method: 'POST',
headers: { 'Content-Type': 'application/json' },
body: JSON.stringify(producto)
})
.then(response => response.json())
.then(data => {
alert('Producto registrado');
loadProducts();
});
});


function loadProducts(){
fetch('http://localhost:8080/api/products')
.then(response => response.json())
.then(data => {
lista.innerHTML = '';
data.forEach(p => {
const li = document.createElement('li');
li.textContent = `${p.id} - ${p.name} - ${p.description} - $${p.price}`;
lista.appendChild(li);
});
});
}


loadProducts();
</script>
</html>